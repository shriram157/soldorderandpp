ID: retailSoldOrder
_schema-version: '2.1'
description: MTA Project for Retail Sold Order Application
version: 0.0.1

modules:
- name: retailSoldOrder_Node
  type: nodejs
  path: retailSoldOrder_Node
  parameters:
     disk-quota: 256M
     host: soldOrder_Node
     memory: 256M
     register-service-url: true
     service-name: soldOrder_Node
     service-url: '${default-url}'
  properties:
     NODE_TLS_REJECT_UNAUTHORIZED: 0
  requires:
   - name: application-logs_retailSoldOrder
   - name: RETAIL_SOLD_ORDER_APIM_CUPS
  provides:
   - name: retailSoldOrder_Node_api
     properties:
        url: ${default-url}

- name: soldOrder
  type: html5
  path: soldOrder
  parameters:
     host: soldOrder
     disk-quota: 256M
     memory: 256M
     service-name: soldOrder
     service-url: '${default-url}'
     register-service-url: true
  build-parameters:
     builder: grunt
  requires:
   - name: application-logs_retailSoldOrder
   - name: dest_retailSoldOrder
   - name: uaa_retailSoldOrder
   - name: retailSoldOrder_Node_api
     group: destinations
     properties:
       name: retailSoldOrder-node-backend
       url: '~{url}'
       forwardAuthToken: true

resources:
- name: application-logs_retailSoldOrder
  parameters:
     service: application-logs
     service-plan: lite
  type: org.cloudfoundry.managed-service

- name: dest_retailSoldOrder
  parameters:
     service: destination
     service-plan: lite
  type: org.cloudfoundry.managed-service

- name: uaa_retailSoldOrder
  parameters:
     service: xsuaa
     service-plan: application
     path: ./xs-security.json
  type: org.cloudfoundry.managed-service

- name: RETAIL_SOLD_ORDER_APIM_CUPS
  type: org.cloudfoundry.existing-service
  parameters:
    service-name: RETAIL_SOLD_ORDER_APIM_CUPS
  properties:
     odata-call-service-name: '${service-name}'